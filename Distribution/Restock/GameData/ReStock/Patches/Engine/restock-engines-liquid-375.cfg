// Patches applying art changes to 3.75m engines
// Contents:
// - Kerbodyne KR-2L+ "Rhino" Liquid Fuel Engine (Size3AdvancedEngine)
// - S3 KS-25x4 "Mammoth" Liquid Fuel Engine (Size3EngineCluster)

@PART[Size3AdvancedEngine]
{
  @author = Chris Adderley
  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-rhino-1
  }
  %rescaleFactor = 1
  
  
  #node_stack_bottom02 = 0.0, -2.536873, 0.0, 0.0, -1.0, 0.0, 3
  
  MODULE
  {
    name = ModulePartVariants
    baseVariant = Size3
    VARIANT
    {
      name = Size3
      displayName = #LOC_Restock_variant-engine_size3
      primaryColor = #ffffff
      secondaryColor = #000000
      GAMEOBJECTS
      {
        Var_375 = true
        Var_Compact = false
		Fairing375 = true
      }
	  NODES
	  {
		node_stack_top = 0.0, 1.487975, 0.0, 0.0, 1.0, 0.0, 3
	  }
    }
    VARIANT
    {
      name = Compact
      displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #ffffff
      secondaryColor = #000000
      GAMEOBJECTS
      {
        Var_375 = false
        Var_Compact = true
		Fairing375 = false
      }
	  NODES
	  {
		node_stack_top = 0.0,0.495,0.0 , 0.0, 1.0, 0.0, 2
	  }
    }
	MODULE
	{
		name = ModuleJettison
		jettisonName = Fairing375
		bottomNodeName = bottom
		isFairing = True
		jettisonedObjectMass = 0.1
		jettisonForce = 5
		jettisonDirection = 0 0 1
		useMultipleDragCubes= false
	}
  }
  @MODULE[ModuleGimbal]
	{
		
		@gimbalTransformName = B_Gimbal
	}
	MODULE
	{
		name = FXModuleLookAtConstraint

		// Ringed
		CONSTRAINLOOKFX
		{
			targetName = LowerPiston001
			rotatorsName = UpperPiston001
		}
		CONSTRAINLOOKFX
		{
			targetName = LowerPiston002
			rotatorsName = UpperPiston002
		}
		
		CONSTRAINLOOKFX
		{
			targetName = UpperPiston001
			rotatorsName = LowerPiston001
		}
		CONSTRAINLOOKFX
		{
			targetName = UpperPiston002
			rotatorsName = LowerPiston002
		}

	}
}

@PART[Size3EngineCluster]
{
  @author = Chris Adderley
  !mesh = DELETE
  !MODEL = {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-mammoth-1
  }
  %rescaleFactor = 1
}
