// Patches applying art changes to 1.25m SRB engines
// Contents:
// - Kickback (MassiveBooster)
// - Thumper (solidBooster1-1)
// - Hammer (solidBooster)
// - Flea (solidBooster_sm)
// - Separatron I (sepMotor1)

// Kickback
@PART[MassiveBooster] {
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-srb-kickback-1
  }
  %rescaleFactor = 1
  MODULE
	{
		name = FXModuleLookAtConstraint
		CONSTRAINLOOKFX
		{
			targetName = CylUpper005
			rotatorsName = CylLower005
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper006
			rotatorsName = CylLower006
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper007
			rotatorsName = CylLower007
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper008
			rotatorsName = CylLower008
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower005
			rotatorsName = CylUpper005
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower006
			rotatorsName = CylUpper006
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower007
			rotatorsName = CylUpper007
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower008
			rotatorsName = CylUpper008
		}
  }
  @MODULE[FXModuleAnimateThrottle]
	{
		@animationName = restock-srb-kickback-heat-1
		@responseSpeed = 0.1
	}
}

// Thumper
@PART[solidBooster1-1] {
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-srb-thumper-1
  }
  %rescaleFactor = 1

  MODULE
	{
		name = FXModuleLookAtConstraint

		CONSTRAINLOOKFX
		{
			targetName = CylUpper001
			rotatorsName = CylLower001
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper002
			rotatorsName = CylLower002
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper003
			rotatorsName = CylLower003
		}
		CONSTRAINLOOKFX
		{
			targetName = CylUpper004
			rotatorsName = CylLower004
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower001
			rotatorsName = CylUpper001
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower002
			rotatorsName = CylUpper002
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower003
			rotatorsName = CylUpper003
		}
		CONSTRAINLOOKFX
		{
			targetName = CylLower004
			rotatorsName = CylUpper004
		}
  }
  @MODULE[FXModuleAnimateThrottle]
	{
		@animationName = restock-srb-thumper-heat-1
		@responseSpeed = 0.1
	}
}

// Hammer
@PART[solidBooster] {
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-srb-hammer-1
	
  }
  %rescaleFactor = 1
  @scale = 1
  @node_stack_bottom = 0.0, -1.5640875, 0.0, 0.0, -1.0, 0.0, 1
  @node_stack_top = 0.0, 1.2818375, 0.0, 0.0, 1.0, 0.0, 1
  @node_attach = 0.0, 0.0, -0.75, 0.0, 0.0, 1.0, 1
  @fx_exhaustFlame_yellow = 0.0, -1.4084125, 0.0, 0.0, 1.0, 0.0, running
  @fx_exhaustSparks_yellow = 0.0, -1.4084125, 0.0, 0.0, 1.0, 0.0, running
  @fx_smokeTrail_medium = 0.0, -1.4084125, 0.0, 0.0, 1.0, 0.0, running
  @MODULE[FXModuleAnimateThrottle]
	{
		@animationName = restock-srb-hammer-heat-1
		@responseSpeed = 0.1
	}
}

// Flea
@PART[solidBooster_sm] {
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-srb-flea-1
  }
  %rescaleFactor = 1
  
  MODULE
	{
		name = FXModuleAnimateThrottle
		animationName = restock-srb-flea-heat-1
		responseSpeed = 0.1
		dependOnEngineState = True
		dependOnThrottle = True
	}
}
// Separatron
@PART[sepMotor1] {
  @author = Chris Adderley

  !mesh = DELETE
  !MODEL {}
  MODEL {
    model = ReStock/Assets/Engine/restock-engine-srb-separatron-1
  }
  %rescaleFactor = 1
  ODULE
	{
		name = FXModuleAnimateThrottle
		animationName = restock-srb-separatron-heat-1
		responseSpeed = 0.5
		dependOnEngineState = True
		dependOnThrottle = True
	}
}